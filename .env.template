# Industrial ADAM-6000 Counter Application Environment Variables
# ================================================================
# Copy this file to .env.local and provide secure values for all variables
# 
# SECURITY WARNING: Never commit .env.local to version control!
# Add .env.local to your .gitignore file.

# ================================
# REQUIRED SECURITY CONFIGURATION
# ================================

# Database Configuration
# ----------------------
# TimescaleDB database credentials
# SECURITY: Use application-specific username, not default accounts
# SECURITY: Generate strong password (minimum 12 characters, mixed case, numbers, symbols)
TIMESCALEDB_USERNAME=adam_app_user
TIMESCALEDB_PASSWORD=GENERATE_SECURE_PASSWORD_HERE

# JWT Authentication Configuration
# -------------------------------
# SECURITY: Generate cryptographically secure random secret (minimum 32 characters)
# Use: openssl rand -base64 48
# Or: Python: import secrets; secrets.token_urlsafe(48)
JWT_SECRET_KEY=GENERATE_CRYPTOGRAPHICALLY_SECURE_SECRET_HERE

# JWT issuer and audience (update for your organization)
JWT_ISSUER=Industrial.Adam.YourCompany
JWT_AUDIENCE=Industrial.Adam.APIs

# ==============================
# OPTIONAL SECURITY CONFIGURATION
# ==============================

# JWT Token Expiration Settings
# -----------------------------
# Access token expiration in minutes (default: 60)
# SECURITY: Shorter expiration = better security, but more frequent token refresh
JWT_EXPIRATION_MINUTES=60

# Refresh token expiration in days (default: 7)
# SECURITY: Balance between security and user convenience
JWT_REFRESH_EXPIRATION_DAYS=7

# CORS Configuration
# -----------------
# Allowed origins for cross-origin requests (comma-separated)
# SECURITY: Be specific about allowed origins, avoid wildcard (*) in production
CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# ==============================
# MONITORING & OBSERVABILITY
# ==============================

# Grafana Admin Configuration
# ---------------------------
# SECURITY: Change default admin password
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=GENERATE_SECURE_PASSWORD_HERE

# InfluxDB Configuration (if using InfluxDB instead of TimescaleDB)
# ----------------------------------------------------------------
# INFLUXDB_ADMIN_USER=admin
# INFLUXDB_ADMIN_PASSWORD=GENERATE_SECURE_PASSWORD_HERE
# INFLUXDB_ADMIN_TOKEN=GENERATE_SECURE_TOKEN_HERE

# ==============================
# APPLICATION CONFIGURATION
# ==============================

# ADAM Device Configuration
# ------------------------
ADAM_HOST=192.168.1.100
ADAM_UNIT_ID=1

# Logging Configuration
# --------------------
LOG_LEVEL=Information
POLL_INTERVAL=2000

# Demo Mode (set to false for production)
DEMO_MODE=false

# ==============================
# SECURITY SETUP INSTRUCTIONS
# ==============================

# 1. GENERATE SECURE PASSWORDS
#    Use a password manager or secure generator:
#    - Minimum 16 characters
#    - Include uppercase, lowercase, numbers, and symbols
#    - Avoid dictionary words or personal information
#
# 2. GENERATE JWT SECRET KEY
#    Use one of these methods:
#    
#    Option A - OpenSSL:
#    openssl rand -base64 48
#    
#    Option B - PowerShell:
#    [Convert]::ToBase64String((1..48 | ForEach {Get-Random -Maximum 256}))
#    
#    Option C - Python:
#    python -c "import secrets; print(secrets.token_urlsafe(48))"
#    
#    Option D - Node.js:
#    node -e "console.log(require('crypto').randomBytes(48).toString('base64'))"
#
# 3. SETUP DEFAULT USER PASSWORDS
#    When the application starts for the first time, it will generate secure
#    passwords for default users (admin, supervisor, operator).
#    
#    Check the logs for the location of the initial-passwords.txt file.
#    Use these passwords for first login, then immediately change them.
#    
#    DELETE the initial-passwords.txt file after setting up user passwords!
#
# 4. PRODUCTION SECURITY CHECKLIST
#    □ All passwords are at least 16 characters long
#    □ JWT secret key is at least 32 characters and cryptographically random
#    □ Database username is application-specific (not 'admin' or 'root')
#    □ CORS origins are specific (no wildcards)
#    □ Demo mode is disabled (DEMO_MODE=false)
#    □ Log level is appropriate for production (Information or Warning)
#    □ All default passwords have been changed
#    □ .env.local is in .gitignore and never committed
#
# 5. ENVIRONMENT VARIABLE EXAMPLES
#    Here are example values (DO NOT USE THESE IN PRODUCTION):
#    
#    TIMESCALEDB_PASSWORD=MyS3cur3DBP@ssw0rd2024!
#    JWT_SECRET_KEY=j8HdK9pL3mR7nQ4sT6vY8zA2bE5hJ1kM9oP3sU7wX0cF5gI8lN2qT4vY7zA1bE4h
#    GRAFANA_ADMIN_PASSWORD=Gr@f@n@Adm1n2024$

# ==============================
# TROUBLESHOOTING
# ==============================

# If you encounter "Environment variable validation failed":
# 1. Ensure all REQUIRED variables are set with secure values
# 2. Check that JWT_SECRET_KEY is at least 32 characters
# 3. Verify passwords are at least 12 characters
# 4. Ensure database credentials are correct
#
# For more help, see the application logs or documentation.